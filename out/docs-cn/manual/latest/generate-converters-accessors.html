<!DOCTYPE html><html><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><link href="/static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/static/favicon/site.webmanifest" rel="manifest"/><meta content="image/jpeg" property="og:image:type"/><link title="ReScript Blog" href="/blog/feed.xml" rel="alternate" type="application/rss+xml"/><title>生成转换器与辅助函数 | ReScript 语言手册</title><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, minimal-ui" name="viewport"/><meta content="All about the @deriving decorator, and how to generate code from types" name="description"/><meta content="" name="keywords"/><link href="/docs/manual/latest/generate-converters-accessors" rel="canonical"/><link href="/static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/static/favicon/site.webmanifest" rel="manifest"/><meta content="ReScript Documentation" property="og:site_name"/><meta content="en_US" property="og:locale"/><meta content="生成转换器与辅助函数 | ReScript 语言手册" property="og:title"/><meta content="All about the @deriving decorator, and how to generate code from types" property="og:description"/><meta content="生成转换器与辅助函数 | ReScript 语言手册" name="twitter:title"/><meta content="All about the @deriving decorator, and how to generate code from types" name="twitter:description"/><meta content="@reasonml" name="twitter:site"/><meta content="@ReasonAssoc" name="twitter:creator"/><meta content="image/jpeg" property="og:image:type"/><meta content="summary_large_image" name="twitter:card"/><link title="ReScript Blog" href="/blog/feed.xml" rel="alternate" type="application/rss+xml"/><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/2b269719632b344a478b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2b269719632b344a478b.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-c49b9de92a7202ac2146.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-23118dcc1b886e5b49be.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-82e7c4d3c08582bd58e0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-9e9d9ab67b4ceb7ec93b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs-cn/manual/latest/generate-converters-accessors-580238388b614fca3676.js" as="script"/></head><body><div id="__next"><div class="mt-16 min-w-320 theme-reason"><div class="w-full"><nav class="fixed top-0 z-50 px-4 flex xs:justify-center w-full h-16 bg-gray-90 shadow text-white-80 text-14" id="header" style="min-width:20rem"><div class="flex justify-between items-center h-full w-full max-w-1280"><div class="h-8 w-8 lg:h-10 lg:w-32"><a class="block hover:cursor-pointer w-full h-full flex justify-center items-center font-bold" href="/"><img class="lg:hidden" src="/static/nav-logo@2x.png"/><img class="hidden lg:block" src="/static/nav-logo-full@2x.png"/></a></div><div class="flex items-center xs:justify-between w-full bg-gray-90 sm:h-auto sm:relative"><div class="flex ml-10 space-x-5 w-full max-w-320" style="max-width:26rem"><div class="relative"><div class="flex items-center"><button class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px border-none flex items-center hover:cursor-pointer " tabindex="0"><span class="">文档</span></button></div><div class="hidden fixed left-0 overflow-y-scroll overflow-x-hidden border-gray-80 border-gray-40 min-w-320 w-full h-full bg-white sm:overflow-y-auto sm:bg-transparent sm:h-auto sm:justify-center sm:rounded-bl-xl sm:rounded-br-xl sm:shadow" style="margin-top:1rem"><div class="w-full"><div class="relative w-full bg-white pb-32 min-h-full sm:pb-0 text-gray-60 text-14 rounded-bl-xl rounded-br-xl"><div class="flex justify-center"><div class="w-full sm:grid sm:grid-cols-3 max-w-1280"><div class="flex px-4 sm:justify-center border-r border-gray-10 pt-8 pb-10"><div><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">快速跳转</div><div><ul class="space-y-2 ml-2 mt-6"><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs-cn/manual/latest/introduction">概览</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs-cn/manual/latest/overview">语言特性</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs-cn/manual/latest/embed-raw-javascript">与 JS 互操作</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs-cn/manual/latest/build-overview">构建系统</a></li></ul></div></div></div><div class="flex px-4 sm:h-full sm:justify-center border-r border-gray-10 pt-8"><div class="w-full pb-16" style="max-width:19.625rem"><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Documentation</div><div><div class="mt-6"><a class="" href="/docs-cn/manual/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_manual@2x.png"/><div><div class="flex items-center text-16 font-medium text-fire"><span>语言手册</span></div><div class="block text-14 text-gray-60 text-fire-50">所有的语言特性的参考指南</div></div></div></a><a class="" href="/docs/react/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_rescript_react@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>ReScript &amp; React</span></div><div class="block text-14 text-gray-60 text-gray-60">ReactJS 的一等公民绑定</div></div></div></a><a class="" href="/docs/gentype/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_gentype@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>GenType</span></div><div class="block text-14 text-gray-60 text-gray-60">无缝衔接 TypeScript &amp; Flow 集成</div></div></div></a><a class="" href="https://github.com/reason-association/reanalyze" rel="noopener noreferrer"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_reanalyze@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Reanalyze</span><svg class="stroke-current inline-block ml-2 w-4 h-4" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></div><div class="block text-14 text-gray-60 text-gray-60">死代码消除 &amp; 停机分析</div></div></div></a></div></div></div></div><div class="flex px-4 sm:h-full sm:justify-center pb-12 pt-8 pb-10"><div class="w-full" style="max-width:19.625rem"><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Exploration</div><div class="mt-6"><a class="" href="/syntax-lookup"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><div class="-mr-2 flex w-6 h-6 justify-center items-center"><img class="w-4 h-4" src="/static/ic_search.svg"/></div><div><div class="flex items-center text-16 font-medium text-gray-80"><span>语法查找</span></div><div class="block text-14 text-gray-60 text-gray-60">探索所有语法结构</div></div></div></a></div></div></div></div></div><img class="hidden xl:block absolute bottom-0 right-0" style="max-width:27.8rem" src="/static/illu_index_rescript@2x.png"/></div></div></div></div><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/docs-cn/manual/latest/api">API</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/try">工作台</a></div><div class="hidden md:flex items-center"><div class="hidden sm:block mr-6"><div class=" bg-gray-100 border border-gray-70 hover:text-white hover:cursor-pointer flex justify-center p-2 px-3 rounded-lg"><input type="text" class="transition-all ease-in-out duration-150 text-white bg-gray-100 border-none focus:outline-none w-0" id="docsearch"/><svg class="stroke-current text-gray-60 w-5 h-5" height="19.203" width="19.203" viewBox="0 0 19.203 19.203"><g fill="none" stroke-linecap="round" stroke-width="2px" transform="translate(-2 -2)"><path d="M6.479,0A6.479,6.479,0,1,1,0,6.479,6.479,6.479,0,0,1,6.479,0Z" transform="translate(3 3)"></path><line stroke-linejoin="round" transform="translate(14.055 14.055)" x1="5.734" y1="5.734"></line></g></svg></div></div><a class="mr-5 no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://github.com/reason-association/rescript-lang.org#rescript-langorg" rel="noopener noreferrer"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" height="17.79" width="18.236" viewBox="0 0 18.236 17.79"><g transform="translate(8 -5.365)"><path d="M17.013,9.906a9.078,9.078,0,0,0-3.318-3.318A8.918,8.918,0,0,0,9.118,5.365,8.919,8.919,0,0,0,4.541,6.588,9.077,9.077,0,0,0,1.223,9.906,8.919,8.919,0,0,0,0,14.483a8.861,8.861,0,0,0,1.739,5.36,8.93,8.93,0,0,0,4.493,3.294.531.531,0,0,0,.475-.083.464.464,0,0,0,.154-.356q0-.036-.006-.641T6.85,21l-.273.047a3.484,3.484,0,0,1-.659.042,5.02,5.02,0,0,1-.825-.083,1.844,1.844,0,0,1-.8-.356,1.506,1.506,0,0,1-.522-.73l-.119-.273a2.966,2.966,0,0,0-.374-.605,1.432,1.432,0,0,0-.516-.451l-.083-.06a.871.871,0,0,1-.154-.143.651.651,0,0,1-.107-.166q-.036-.083.059-.137a.77.77,0,0,1,.344-.053l.237.035a1.733,1.733,0,0,1,.588.285,1.916,1.916,0,0,1,.576.617,2.093,2.093,0,0,0,.659.742,1.4,1.4,0,0,0,.778.255,3.376,3.376,0,0,0,.677-.059,2.362,2.362,0,0,0,.534-.178,1.924,1.924,0,0,1,.582-1.223,8.129,8.129,0,0,1-1.217-.214,4.845,4.845,0,0,1-1.116-.463,3.2,3.2,0,0,1-.956-.8,3.822,3.822,0,0,1-.623-1.247A5.928,5.928,0,0,1,3.3,14.007a3.463,3.463,0,0,1,.938-2.446A3.192,3.192,0,0,1,4.321,9.14a1.664,1.664,0,0,1,1.021.16,7.138,7.138,0,0,1,.991.457q.315.19.5.321a8.574,8.574,0,0,1,4.559,0l.451-.285a6.389,6.389,0,0,1,1.092-.522,1.556,1.556,0,0,1,.962-.13A3.161,3.161,0,0,1,14,11.562a3.463,3.463,0,0,1,.938,2.446,5.994,5.994,0,0,1-.243,1.787,3.674,3.674,0,0,1-.629,1.247,3.319,3.319,0,0,1-.962.789,4.855,4.855,0,0,1-1.116.463,8.121,8.121,0,0,1-1.217.214,2.115,2.115,0,0,1,.617,1.686v2.5a.473.473,0,0,0,.149.356.516.516,0,0,0,.469.083A8.929,8.929,0,0,0,16.5,19.842a8.863,8.863,0,0,0,1.739-5.36A8.926,8.926,0,0,0,17.013,9.906Z" transform="translate(-8 0)"></path></g></svg></a><a class="mr-5 no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://twitter.com/rescriptlang" rel="noopener noreferrer"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" viewBox="0 0 15.53 12.71"><path d="M5.794,12.711a13.325,13.325,0,0,1-2.058-.163A9.659,9.659,0,0,1,.92,11.523L0,11.02l1-.328c1.089-.358,1.751-.58,2.571-.928A3.421,3.421,0,0,1,1.809,7.726l-.232-.7.19.029a3.456,3.456,0,0,1-.433-.534A3.276,3.276,0,0,1,.779,4.57l.044-.614L1.19,4.1a3.437,3.437,0,0,1-.333-.934A3.552,3.552,0,0,1,1.235.774l.32-.588L1.984.7A7.883,7.883,0,0,0,7.091,3.575a3.054,3.054,0,0,1,.185-1.623A3.038,3.038,0,0,1,8.511.536,3.71,3.71,0,0,1,10.664.008a3.439,3.439,0,0,1,2.114.872,7.1,7.1,0,0,0,.774-.258c.17-.064.362-.136.6-.219L15.042.1l-.579,1.652.119-.008L15.53,1.7l-.56.765c-.032.044-.04.056-.052.073-.045.068-.1.153-.87,1.179a1.448,1.448,0,0,0-.271.943,8.916,8.916,0,0,1-.487,3.586,6.346,6.346,0,0,1-1.7,2.524,7.524,7.524,0,0,1-3.566,1.724A10.979,10.979,0,0,1,5.794,12.711Zm0,0" transform="translate(0 -0.001)"></path></svg></a><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://forum.rescript-lang.org" rel="noopener noreferrer"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" viewBox="0 0 24 24"><path d="M12.103 0C18.666 0 24 5.485 24 11.997c0 6.51-5.33 11.99-11.9 11.99L0 24V11.79C0 5.28 5.532 0 12.103 0zm.116 4.563a7.395 7.395 0 00-6.337 3.57 7.247 7.247 0 00-.148 7.22L4.4 19.61l4.794-1.074a7.424 7.424 0 008.136-1.39 7.256 7.256 0 001.737-7.997 7.375 7.375 0 00-6.84-4.585h-.008z"></path></svg></a></div></div></div><button class="h-full px-4 xs:hidden flex items-center hover:text-white"><svg class="fill-current h-1 w-auto block text-gray-60" height="4" width="22" stroke="none" viewBox="0 0 22 4"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9)"></circle><circle cx="2" cy="2" r="2" transform="translate(18)"></circle></svg></button><div class="hidden sm:hidden flex-col fixed top-0 left-0 h-full w-full z-50 sm:w-9/12 bg-gray-100 sm:h-auto sm:flex sm:relative sm:flex-row sm:justify-between" style="min-width:20rem;top:4rem"><div class="border-gray-80 border-t"><ul><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><div class="opacity-75 hover:text-white hover:cursor-pointer bg-gray-80 flex items-center p-2 px-3 rounded"><svg class="stroke-current w-5 h-5 mr-3" height="19.203" width="19.203" viewBox="0 0 19.203 19.203"><g fill="none" stroke-linecap="round" stroke-width="2px" transform="translate(-2 -2)"><path d="M6.479,0A6.479,6.479,0,1,1,0,6.479,6.479,6.479,0,0,1,6.479,0Z" transform="translate(3 3)"></path><line stroke-linejoin="round" transform="translate(14.055 14.055)" x1="5.734" y1="5.734"></line></g></svg><input type="text" class="w-32 bg-gray-80 focus:outline-none " id="docsearch-mobile"/></div></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/try">工作台</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/blog">Blog</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://twitter.com/rescriptlang" rel="noopener noreferrer">Twitter</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://github.com/reason-association/rescript-lang.org#rescript-langorg" rel="noopener noreferrer">GitHub</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://forum.rescript-lang.org" rel="noopener noreferrer">Forum</a></li></ul></div></div></nav><div class="hidden z-40 bg-gray-10-tr w-full h-full bottom-0" style="backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px)"></div><div class="flex lg:justify-center"><div class="flex w-full max-w-1280 md:mx-8"><div class="hidden  md:block md:w-48 md:-ml-4 lg:w-1/5 md:h-auto md:relative overflow-y-visible bg-white" id="sidebar"><aside class="relative top-0 px-4 w-full block md:top-16 md:pt-16 md:sticky border-r border-gray-20 overflow-y-auto pb-24" id="sidebar-content" style="height:calc(100vh - 4.5rem"><div class="flex justify-between"><div class="w-3/4 md:w-full"></div><button class="md:hidden h-16"><svg class="fill-current " height="12.728" width="12.728"><path d="M12.728 11.313l-1.414 1.414L0 1.414 1.414-.001z"></path><path d="M11.314 0l1.414 1.414L1.415 12.728 0 11.314z"></path></svg></button></div><div class="flex justify-between text-fire font-medium items-baseline">语言手册<span class="font-mono text-14">latest</span></div><div class="mb-56"><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">概览</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/introduction">引言</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/installation">安装</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/editor-plugins">编辑器插件</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/migrate-from-bucklescript-reason">从 BuckleScript/Reason 迁移</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/try">试一试</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">语言特性</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/overview">概览</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/let-binding">Let 绑定</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/type">类型</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/primitive-types">基础类型</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/tuple">元组</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/record">记录</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/object">对象</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/variant">变体</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/polymorphic-variant">多态变体</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/null-undefined-option">Null，Undefined &amp; Option</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/array-and-list">数组 &amp; 列表</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/function">函数</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/control-flow">If-Else &amp; 循环</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/pipe">管道</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/pattern-matching-destructuring">模式匹配/解构</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/mutation">可变性</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/jsx">JSX</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/exception">异常</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/lazy-values">惰性值</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/promise">Async &amp; Promise</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/module">模块</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/import-export">导入 &amp; 导出</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/attribute">属性（装饰器）</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/unboxed">拆箱</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/reserved-keywords">保留关键字</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">高级特性</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/extensible-variant">可扩展变体</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">JavaScript 互操作</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/interop-cheatsheet">互操作速查表</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/embed-raw-javascript">嵌入原生 JavaScript</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/shared-data-types">共享数据类型</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/external">External（绑定任意 JS 库）</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/bind-to-js-object">绑定到 JS 对象</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/bind-to-js-function">绑定到 JS 函数</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/import-from-export-to-js">从 JS 导入/导出到 JS</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/bind-to-global-js-values">绑定到全局 JS 值</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/json">JSON</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/inlining-constants">内联常量</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/use-illegal-identifier-names">使用非法的标识符</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2  bg-fire-5 text-fire leading-5 -ml-2 pl-2 font-medium block hover:bg-fire-5 " href="/docs-cn/manual/latest/generate-converters-accessors">生成转换器与辅助函数</a><ul class="mt-3 py-1 mb-4 border-l border-fire-10"><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/generate-converters-accessors#%E4%B8%BA%E5%8F%98%E4%BD%93%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0%E4%B8%8E%E5%80%BC">为变体生成函数与值</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/generate-converters-accessors#%E4%B8%BA%E8%AE%B0%E5%BD%95%E7%94%9F%E6%88%90%E5%AD%97%E6%AE%B5%E8%AE%BF%E9%97%AE%E5%99%A8">为记录生成字段访问器</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/generate-converters-accessors#%E4%B8%BA-js-%E7%9A%84%E6%95%B4%E6%95%B0%E5%9E%8B%E6%9E%9A%E4%B8%BE%E5%92%8C-rescript-%E7%9A%84%E5%8F%98%E4%BD%93%E7%94%9F%E6%88%90%E5%8F%8C%E5%90%91%E8%BD%AC%E6%8D%A2%E5%99%A8">为 JS 的整数型枚举和 ReScript 的变体生成双向转换器</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/generate-converters-accessors#%E5%B0%86%E8%AE%B0%E5%BD%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%8A%BD%E8%B1%A1%E8%AE%B0%E5%BD%95">将记录转换为抽象记录</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/generate-converters-accessors#%E5%B0%86-external-%E8%BD%AC%E6%8D%A2%E4%B8%BA-js-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0">将 external 转换为 JS 对象创建函数</a></li></ul></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/browser-support-polyfills">浏览器支持 &amp; Polyfills</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/libraries">库 &amp; 发布</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">构建系统</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-overview">概览</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-configuration">构建配置</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-configuration-schema">构建配置概要</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-external-stdlib">外部标准库</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-pinned-dependencies">固定依赖</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/interop-with-js-build-systems">与 JS 的构建系统交互</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-performance">构建性能</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/warning-numbers">警告编号</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">指引</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/converting-from-js">从 JS 转换到 ReScript</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">补充</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/newcomer-examples">新人示例</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/project-structure">项目结构</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/faq">FAQ</a></li></ul></div></div></div></aside></div><main class="px-4 w-full pt-16 md:ml-12 lg:mr-8 mb-32 md:max-w-576 lg:max-w-740"><div class="z-10 fixed border-b shadow top-16 left-0 pl-4 bg-white w-full py-4 md:relative md:border-none md:shadow-none md:p-0 md:top-auto flex items-center"><button class=" md:hidden mr-3"><img class="h-4" src="/static/ic_sidebar_drawer.svg"/></button><div class="truncate overflow-x-auto touch-scroll flex items-center space-x-4 md:justify-between mr-4 w-full"><div class="w-full captions overflow-x-auto text-gray-60"><a href="/docs/latest">文档</a><span> / <a href="/docs-cn/manual/latest/introduction">语言手册</a></span><span> / <span>生成转换器与辅助函数</span></span></div><a class="inline text-14 hover:underline text-fire" href="https://github.com/rescript-idea/rescript-lang.org-chinese-translation/tree/chinese-translation/pages/docs-cn/manual/latest/generate-converters-accessors.mdx" rel="noopener noreferrer">Edit</a></div></div><div class="mt-10"><h1 class="hl-1 mb-6 ">生成转换器与辅助函数</h1><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>：以下装饰器：</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>用于记录的 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(jsConverter)</code></p></li><li class="md-li mt-3 leading-4 ml-2"><p>用于记录的 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving({jsConverter: newType})</code></p></li><li class="md-li mt-3 leading-4 ml-2"><p>用于多态变体的 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(jsConverter)</code></p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在 9.0 及更新的版本中已经不再需要，请在侧边栏菜单中切换至旧版本查看文档。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在使用 ReScript 时，有时你可以会有以下需求：</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>自动生成在 ReScript 内部值（如变体）和 JS 值之间转换的函数。</p></li><li class="md-li mt-3 leading-4 ml-2"><p>将一个记录类型转换为一个抽象类型，它有自动生成的构造函数、访问函数和方法函数。</p></li><li class="md-li mt-3 leading-4 ml-2"><p>生成其他辅助函数，例如从记录的属性名生成函数。</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你可以在不同的代码生成场景中使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving</code> 装饰器。所有选项和配置都将在本章讨论。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">请注意：</strong>大量使用代码生成可能会让你的程序难以理解（因为生成的代码在源代码中不可见，而且你只需要知道装饰器生成了什么样的函数/值）。</p><h2 class="group mt-16 mb-3 hl-3">为变体生成函数与值<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E4%B8%BA%E5%8F%98%E4%BD%93%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0%E4%B8%8E%E5%80%BC"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E4%B8%BA%E5%8F%98%E4%BD%93%E7%94%9F%E6%88%90%E5%87%BD%E6%95%B0%E4%B8%8E%E5%80%BC" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在一个变体类型上使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(accessors)</code> 来为其构造器创建访问函数。</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=AIEwpgTglgblB2BzAFAQwMbrAZ2wewmwEoAoAFwE8AHMAAgzKj3loF4TbaAfWgYQBso6ANYdutAMoBXAEYBbKGWTYy0JKU49eqeFn4BuEkA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-attribute">@deriving(accessors)</span>
<span class="hljs-keyword">type</span> action <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Click</span>
  | <span class="hljs-constructor">Submit</span>(string)
  | <span class="hljs-constructor">Cancel</span>;
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">有 payload 的变体构造器会生成函数，而无 payload 构造器则会生成值（变体的内部表示）。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>:</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>生成的访问器名字是小写的</p></li><li class="md-li mt-3 leading-4 ml-2"><p>你可以在 JavaScript 端使用这些生成的辅助函数，但请不要依赖它们的实际值！</p></li></ul><h3 class="group mt-8 mb-1 hl-4">用法<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E7%94%A8%E6%B3%95"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E7%94%A8%E6%B3%95" style="position:absolute;top:-7rem"></a></span></span></h3><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">let</span> s <span class="hljs-operator">=</span> submit(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">/* gives Submit(&quot;hello&quot;) */</span>
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">以下情况时很有用：</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>当你将访问器函数作为高阶函数传递时（普通的变体构造器做不到）</p></li><li class="md-li mt-3 leading-4 ml-2"><p>当你希望在 JS 端不透明地使用这些值或函数，并向你传回一个变体构造器时（因为 JS 没有这样的东西）</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">请注意，如果你只是想 <em>传入 payload 到一个构造器</em>，你不必生成函数。可以直接使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">-&gt;</code> 语法，例如 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">&quot;test&quot;-&gt;Submit</code>。</p><h2 class="group mt-16 mb-3 hl-3">为记录生成字段访问器<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E4%B8%BA%E8%AE%B0%E5%BD%95%E7%94%9F%E6%88%90%E5%AD%97%E6%AE%B5%E8%AE%BF%E9%97%AE%E5%99%A8"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E4%B8%BA%E8%AE%B0%E5%BD%95%E7%94%9F%E6%88%90%E5%AD%97%E6%AE%B5%E8%AE%BF%E9%97%AE%E5%99%A8" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在一个记录类型上使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(accessors)</code>，为其记录字段名创建访问器。</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=AIEwpgTglgblB2BzAFAQwMbrAZ2wewmwEoAoAFwE8AHMAAhrNoF5aBveVAWzAC5bsy0JAF8SJADZhGDbM1oBtdl160ARACM861cIA0bDtz4atAJh0BdMTJK0AtAD4AQmHFkAdAEEIEVBXecqFTIhmCk9g4AUthePn6m7gBWeAgA6lBkABbIqgBkquGO0e7ieIgkQA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-attribute">@deriving(accessors)</span>
<span class="hljs-keyword">type</span> pet <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>name: string<span class="hljs-literal">}</span>

<span class="hljs-keyword">let</span> pets <span class="hljs-operator">=</span> [<span class="hljs-literal">{</span>name: <span class="hljs-string">&quot;bob&quot;</span><span class="hljs-literal">}</span>, <span class="hljs-literal">{</span>name: <span class="hljs-string">&quot;bob2&quot;</span><span class="hljs-literal">}</span>]

pets
 <span class="hljs-operator">-&gt;</span><span class="hljs-module-identifier">Belt</span>.<span class="hljs-module-identifier">Array</span>.map(name)
 <span class="hljs-operator">-&gt;</span><span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Array2</span>.joinWith(<span class="hljs-string">&quot;&amp;&quot;</span>)
 <span class="hljs-operator">-&gt;</span><span class="hljs-module-identifier">Js</span>.log
</code></pre></div></div></div><h2 class="group mt-16 mb-3 hl-3">为 JS 的整数型枚举和 ReScript 的变体生成双向转换器<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E4%B8%BA-js-%E7%9A%84%E6%95%B4%E6%95%B0%E5%9E%8B%E6%9E%9A%E4%B8%BE%E5%92%8C-rescript-%E7%9A%84%E5%8F%98%E4%BD%93%E7%94%9F%E6%88%90%E5%8F%8C%E5%90%91%E8%BD%AC%E6%8D%A2%E5%99%A8"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E4%B8%BA-js-%E7%9A%84%E6%95%B4%E6%95%B0%E5%9E%8B%E6%9E%9A%E4%B8%BE%E5%92%8C-rescript-%E7%9A%84%E5%8F%98%E4%BD%93%E7%94%9F%E6%88%90%E5%8F%8C%E5%90%91%E8%BD%AC%E6%8D%A2%E5%99%A8" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在变体类型上使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(jsConverter)</code> 来创建转换器函数，这些函数允许在 JS 整数型枚举和 ReScript 变量值之间来回转换。</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving(jsConverter)</span>
<span class="hljs-keyword">type</span> fruit <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Apple</span>
  | <span class="hljs-constructor">Orange</span>
  | <span class="hljs-constructor">Kiwi</span>
  | <span class="hljs-constructor">Watermelon</span>;
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这个选项使 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">jsConverter</code> 再次生成以下类型的函数：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RESI</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-resi "><span class="hljs-keyword">let</span> fruitToJs: fruit <span class="hljs-function">=&gt;</span> int;

<span class="hljs-keyword">let</span> fruitFromJs: int <span class="hljs-function">=&gt;</span> option(fruit);
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">fruitToJs</code> 会将 fruit 的各个构造器映射到从 0 开始的整数，按照变体中的声明顺序递增。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">fruitFromJs</code> 的返回类型是 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">option</code>，因为不是每个整数都能映射到一个构造器。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你也可以给每个构造器添加 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@as(1234)</code> 来自定义其输出。</p><h3 class="group mt-8 mb-1 hl-4">用法<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E7%94%A8%E6%B3%95-1"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E7%94%A8%E6%B3%95-1" style="position:absolute;top:-7rem"></a></span></span></h3><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving(jsConverter)</span>
<span class="hljs-keyword">type</span> fruit <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Apple</span>
  | <span class="hljs-attribute">@as(10)</span> <span class="hljs-constructor">Orange</span>
  | <span class="hljs-attribute">@as(100)</span> <span class="hljs-constructor">Kiwi</span>
  | <span class="hljs-constructor">Watermelon</span>

<span class="hljs-keyword">let</span> zero <span class="hljs-operator">=</span> fruitToJs(<span class="hljs-constructor">Apple</span>) <span class="hljs-comment">/* 0 */</span>

<span class="hljs-keyword">switch</span> fruitFromJs(<span class="hljs-number">100</span>) <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Some</span>(<span class="hljs-constructor">Kiwi</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;this is Kiwi&quot;</span>)
| _ <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;received something wrong from the JS side&quot;</span>)
<span class="hljs-literal">}</span>
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>：因为这里使用了 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@as</code>，所有后续数字编号都会改变。<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Apple</code> 仍然是 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">0</code>，但 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Orange</code> 是 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">10</code>，<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Kiwi</code> 是 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">100</code>，<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Watermelon</code> 是 <strong class="font-semibold"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">101</code></strong>！</p><h3 class="group mt-8 mb-1 hl-4">提高安全性<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E6%8F%90%E9%AB%98%E5%AE%89%E5%85%A8%E6%80%A7"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E6%8F%90%E9%AB%98%E5%AE%89%E5%85%A8%E6%80%A7" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">与 JS 对象和记录类型间的转换类似，你可以通过对 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(jsConverter)</code> 使用相同的 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">newType</code> 选项，来隐藏 JS 枚举是整数的事实。</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving({jsConverter: newType})</span>
<span class="hljs-keyword">type</span> fruit <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Apple</span>
  | <span class="hljs-attribute">@as(100)</span> <span class="hljs-constructor">Kiwi</span>
  | <span class="hljs-constructor">Watermelon</span>;
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这个选项使 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(jsConverter)</code> 生成以下类型的函数：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RESI</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-resi "><span class="hljs-keyword">let</span> fruitToJs: fruit <span class="hljs-function">=&gt;</span> abs_fruit;

<span class="hljs-keyword">let</span> fruitFromJs: abs_fruit <span class="hljs-function">=&gt;</span> fruit;
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这次，<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">fruitFromJs</code> 与之前的非抽象类型的情况不同，返回值不含 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">option</code>，因为不可能有不正确的值传入其中；只有 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">fruitToJs</code> 可以创建 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">abs_fruit</code> 类型的值！</p><h4 class="group mt-8 hl-5">用法<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E7%94%A8%E6%B3%95-2"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E7%94%A8%E6%B3%95-2" style="position:absolute;top:-7rem"></a></span></span></h4><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving({jsConverter: newType})</span>
<span class="hljs-keyword">type</span> fruit <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Apple</span>
  | <span class="hljs-attribute">@as(100)</span> <span class="hljs-constructor">Kiwi</span>
  | <span class="hljs-constructor">Watermelon</span>

<span class="hljs-keyword">let</span> opaqueValue <span class="hljs-operator">=</span> fruitToJs(<span class="hljs-constructor">Apple</span>)

<span class="hljs-attribute">@module(&quot;myJSFruits&quot;)</span> <span class="hljs-keyword">external</span> jsKiwi: abs_fruit <span class="hljs-operator">=</span> <span class="hljs-string">&quot;iSwearThisIsAKiwi&quot;</span>
<span class="hljs-keyword">let</span> kiwi <span class="hljs-operator">=</span> fruitFromJs(jsKiwi)

<span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> fruitFromJs(<span class="hljs-number">100</span>) <span class="hljs-comment">/* nope, can&#x27;t take a random int */</span>
</code></div></div></div></pre><h2 class="group mt-16 mb-3 hl-3">将记录转换为抽象记录<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E5%B0%86%E8%AE%B0%E5%BD%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%8A%BD%E8%B1%A1%E8%AE%B0%E5%BD%95"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E5%B0%86%E8%AE%B0%E5%BD%95%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%8A%BD%E8%B1%A1%E8%AE%B0%E5%BD%95" style="position:absolute;top:-7rem"></a></span></span></h2><blockquote class="md-blockquote"><div class="infobox my-5 py-6 pl-8 pr-10 rounded-lg bg-sky-5"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>: 对于 &gt;= v7 版本的 ReScript，推荐使用<a class="no-underline text-fire hover:underline" href="bind-to-js-object#bind-to-record-like-js-objects" rel="noopener noreferrer">用于编译到 JS 对象的记录</a>。
对于特定场景，这个功能仍然非常有用，但是使用体验比较糟糕。</p></div></blockquote><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在记录类型上使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 可以将该类型扩展为一个构造函数，并为其字段和方法提供一组 getter/setter 函数。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">通常情况下，你只需使用 ReScript 记录来编译成相同形状的 JS 对象。但在某些特定场景中 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 还是很有用。比如你需要将一个带有 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">option</code> 类型字段的记录编译到 JS 对象，但是当某个属性值为 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">undefined</code> 时，这个属性不应该出现在 JS 对象中（例如，<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">{name: &quot;Carl&quot;, age: undefined}</code> vs <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">{name: &quot;Carl&quot;}</code>）。请查看<a class="no-underline text-fire hover:underline" href="#optional-labels" rel="noopener noreferrer">可选标签（Optional Labels）</a>小节来了解关于这种特殊情况的更多细节。</p><h3 class="group mt-8 mb-1 hl-4">用法示例<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E7%94%A8%E6%B3%95%E7%A4%BA%E4%BE%8B" style="position:absolute;top:-7rem"></a></span></span></h3><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> person <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  name: string,
  age: int,
  job: string,
<span class="hljs-literal">}</span>;

<span class="hljs-attribute">@val</span> <span class="hljs-keyword">external</span> john : person <span class="hljs-operator">=</span> <span class="hljs-string">&quot;john&quot;</span>;
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>：<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> 类型<strong class="font-semibold">不是</strong>一个记录！它是一个看起来像记录的类型，使用记录的语法和类型检查。<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 装饰器会把它转换为一个“抽象类型”（我们无法知道抽象类型的实际值的形状）。</p><h3 class="group mt-8 mb-1 hl-4">创建<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E5%88%9B%E5%BB%BA"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E5%88%9B%E5%BB%BA" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你不必绑定来自 JS 端的现存 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> 对象，你可以从 ReScript 端创建这样的 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> JS 对象。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">由于 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 会将 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> 记录转换为一个抽象类型，你不能按照平时的做法直接创建一个 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> 记录。<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">{name: &quot;Joe&quot;, age: 20, job: &quot;teacher&quot;}</code> 是不行的。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">相反，你会使用与记录类型同名的<strong class="font-semibold">创建函数</strong>，它由 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 隐式生成：</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAVg9iEF4IAcQCcDOMB2AKAftgIYC2ICARAFJwUA0E+RA5uQEwAMD+sARpWBBEAxgAt0FAJQAoIA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> joe <span class="hljs-operator">=</span> person(~name<span class="hljs-operator">=</span><span class="hljs-string">&quot;Joe&quot;</span>, ~age<span class="hljs-operator">=</span><span class="hljs-number">20</span>, ~job<span class="hljs-operator">=</span><span class="hljs-string">&quot;teacher&quot;</span>)
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">请注意，上面的例子是没有 JS 运行时开销的。</p><h4 class="group mt-8 hl-5">重命名字段<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E9%87%8D%E5%91%BD%E5%90%8D%E5%AD%97%E6%AE%B5"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E9%87%8D%E5%91%BD%E5%90%8D%E5%AD%97%E6%AE%B5" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">有时候你需要绑定的 JS 对象的某些字段名在 ReScript 中无效。例如 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">{type: &quot;foo&quot;}</code> （type 在 ReScript 中是保留关键字）和 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">{&quot;aria-checked&quot;: true}</code>。选择一个有效的字段名，然后使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@as</code> 来规避这个问题：</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=AIEwpgTglgblB2BzAFAQwEYGcAuFUGNsBKAKGwE8AHMAAhFW1RoF4aBvEmm4VTZAIgrV+RGkLAB9AFw0c0JABpO3XgNTRUAWgA2GMNpE11UVABk92mXISIlAXwDcJEtrDY6LOg1TIAfuIlmfgBbMExMVEQwfgUaX2MzCyCAC31tAHsRJyA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> data <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  <span class="hljs-attribute">@as(&quot;type&quot;)</span> type_: string,
  <span class="hljs-attribute">@as(&quot;aria-label&quot;)</span> ariaLabel: string,
<span class="hljs-literal">}</span>;

<span class="hljs-keyword">let</span> d <span class="hljs-operator">=</span> data(~type_<span class="hljs-operator">=</span><span class="hljs-string">&quot;message&quot;</span>, ~ariaLabel<span class="hljs-operator">=</span><span class="hljs-string">&quot;hello&quot;</span>);
</code></pre></div></div></div><h4 class="group mt-8 hl-5">可选标签<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E5%8F%AF%E9%80%89%E6%A0%87%E7%AD%BE"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E5%8F%AF%E9%80%89%E6%A0%87%E7%AD%BE" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你可以在创建对象时忽略一些字段：</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=AIEwpgTglgblB2BzAFAQwEYGcAuFUGNsBKAKGwE8AHMAAmokwHt4aBeGgbxJpuEcuxRmqADY14qALZgAXDRzQkAGm41UiWTQTYVPAFaN0chQkQqAvgG4SJEWGw0DtdvSbxkAP3VhWAJgAMSjQeBuisAETYYAQAFpDhQchERNZAA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> person <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  <span class="hljs-attribute">@optional</span> name: string,
  age: int,
  job: string,
<span class="hljs-literal">}</span>;

<span class="hljs-keyword">let</span> joe <span class="hljs-operator">=</span> person(~age<span class="hljs-operator">=</span><span class="hljs-number">20</span>, ~job<span class="hljs-operator">=</span><span class="hljs-string">&quot;teacher&quot;</span>, ());
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">未定义的可选值不会出现在最终的 JS 对象的属性中。在上面的例子中，你可以看到 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">name</code> 字段被忽略了。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>，<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@optional</code> 标签将 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">name</code> 字段变成了可选的。仅仅将 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">name</code> 的类型标注为 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">option&lt;string&gt;</code> 是行不通的。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>：因为创建函数包含可选字段，所以需要在最后使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">()</code> 表示<a class="no-underline text-fire hover:underline" href="function#optional-labeled-arguments" rel="noopener noreferrer">已完成该函数的应用</a>。</p><h3 class="group mt-8 mb-1 hl-4">访问器<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E8%AE%BF%E9%97%AE%E5%99%A8"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E8%AE%BF%E9%97%AE%E5%99%A8" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">同样，由于 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 隐藏了记录的实际形状，你不能使用类似 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">joe.age</code> 的方式访问字段。我们通过生成 getter 和 setters 来补救这个问题。</p><h4 class="group mt-8 hl-5">读取<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E8%AF%BB%E5%8F%96"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E8%AF%BB%E5%8F%96" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 装饰的记录类型的每个字段都会生成一个 getter 函数。以上面的代码为例，你会得到 3 个函数：<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">nameGet</code>、<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">ageGet</code> 和 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">jobGet</code>。它们会接收一个 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> 值，并分别返回 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">string</code>、<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">int</code> 和 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">string</code>。</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">let</span> twenty <span class="hljs-operator">=</span> ageGet(joe)
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">另外，你也可以使用<a class="no-underline text-fire hover:underline" href="pipe" rel="noopener noreferrer">管道</a>操作符（<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">-&gt;</code>）来获得更漂亮的访问语法：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">let</span> twenty <span class="hljs-operator">=</span> joe<span class="hljs-operator">-&gt;</span>ageGet
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">如果喜欢更短的 getter 函数名字，我们也支持轻量级 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">light</code> 设置：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving({abstract: light})</span>
<span class="hljs-keyword">type</span> person <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  name: string,
  age: int,
<span class="hljs-literal">}</span>

<span class="hljs-keyword">let</span> joe <span class="hljs-operator">=</span> person(~name<span class="hljs-operator">=</span><span class="hljs-string">&quot;Joe&quot;</span>, ~age<span class="hljs-operator">=</span><span class="hljs-number">20</span>)
<span class="hljs-keyword">let</span> joeName <span class="hljs-operator">=</span> name(joe)
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">现在 getter 函数的名字和对象字段名字相同。</p><h4 class="group mt-8 hl-5">写入<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E5%86%99%E5%85%A5"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E5%86%99%E5%85%A5" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">一个 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 值默认是不可变的。要修改这样的值，首先你需要将抽象记录的字段标记为 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">mutable</code>，就像将普通记录标记为可变一样：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> person <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  name: string,
  <span class="hljs-keyword">mutable</span> age: int,
  job: string,
<span class="hljs-literal">}</span>
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">随后会生成一个名为 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">ageSet</code> 的 setter 函数。可以像这样使用它：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">let</span> joe <span class="hljs-operator">=</span> person(~name<span class="hljs-operator">=</span><span class="hljs-string">&quot;Joe&quot;</span>, ~age<span class="hljs-operator">=</span><span class="hljs-number">20</span>, ~job<span class="hljs-operator">=</span><span class="hljs-string">&quot;teacher&quot;</span>);
ageSet(joe, <span class="hljs-number">21</span>);
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">也可以通过管道操作符来使用它：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res ">joe<span class="hljs-operator">-&gt;</span>ageSet(<span class="hljs-number">21</span>)
</code></div></div></div></pre><h3 class="group mt-8 mb-1 hl-4">方法<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E6%96%B9%E6%B3%95"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E6%96%B9%E6%B3%95" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你可以在类型上附加任意的方法（事实上是 <em>任何</em> 类型，不仅仅是 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 记录类型）。查看“绑定到 JS 函数”一节中的<a class="no-underline text-fire hover:underline" href="bind-to-js-function#object-method" rel="noopener noreferrer">对象方法</a>来获取更多信息。</p><h3 class="group mt-8 mb-1 hl-4">技巧和诀窍<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E6%8A%80%E5%B7%A7%E5%92%8C%E8%AF%80%E7%AA%8D"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E6%8A%80%E5%B7%A7%E5%92%8C%E8%AF%80%E7%AA%8D" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">可以利用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@deriving(abstract)</code> 来实现更精细的访问控制。</p><h4 class="group mt-8 hl-5">可变性<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E5%8F%AF%E5%8F%98%E6%80%A7"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E5%8F%AF%E5%8F%98%E6%80%A7" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">可以在实现文件（<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">.res</code>）中把字段标记为可变，而在接口文件（<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">.resi</code>）中 <em>隐藏</em> 这种可变性：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-comment">/* test.res */</span>
<span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> cord <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  <span class="hljs-attribute">@optional</span> <span class="hljs-keyword">mutable</span> x: int,
  y: int,
<span class="hljs-literal">}</span>;
</code></div></div></div></pre><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RESI</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-resi "><span class="hljs-comment">/* test.resi */</span>
<span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> cord <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  <span class="hljs-attribute">@optional</span> x: int,
  y: int,
<span class="hljs-literal">}</span>;
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">好了！现在，现在你可以在自己的文件中尽情使用可变性，并防止别人这样做！</p><h4 class="group mt-8 hl-5">隐藏创建函数<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E9%9A%90%E8%97%8F%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E9%9A%90%E8%97%8F%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">将记录标记为 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">private</code> 可以禁用创建函数：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> cord <span class="hljs-operator">=</span> <span class="hljs-keyword">private</span> <span class="hljs-literal">{</span>
  <span class="hljs-attribute">@optional</span> x: int,
  y: int,
<span class="hljs-literal">}</span>
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">访问器依然存在，只是你无法再创建该数据结构。因此，它非常适合创建 JS 对象绑定的同时防止其他人创建这个对象！</p><h4 class="group mt-8 hl-5">使用子模块来避免命名冲突和绑定覆盖<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E4%BD%BF%E7%94%A8%E5%AD%90%E6%A8%A1%E5%9D%97%E6%9D%A5%E9%81%BF%E5%85%8D%E5%91%BD%E5%90%8D%E5%86%B2%E7%AA%81%E5%92%8C%E7%BB%91%E5%AE%9A%E8%A6%86%E7%9B%96"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E4%BD%BF%E7%94%A8%E5%AD%90%E6%A8%A1%E5%9D%97%E6%9D%A5%E9%81%BF%E5%85%8D%E5%91%BD%E5%90%8D%E5%86%B2%E7%AA%81%E5%92%8C%E7%BB%91%E5%AE%9A%E8%A6%86%E7%9B%96" style="position:absolute;top:-7rem"></a></span></span></h4><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">很多时候，你会有多个类似属性的抽象类型。由于 ReScript 会在类型被定义的作用域中展开全部的抽象 getter，setter 和创建函数，你最终会遇到值被覆盖的问题。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">例如：</strong></p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> person <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>name: string<span class="hljs-literal">}</span>

<span class="hljs-attribute">@deriving(abstract)</span>
<span class="hljs-keyword">type</span> cat <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  name: string,
  isLazy: bool,
<span class="hljs-literal">}</span>;

<span class="hljs-keyword">let</span> person <span class="hljs-operator">=</span> person(~name<span class="hljs-operator">=</span><span class="hljs-string">&quot;Alice&quot;</span>)

<span class="hljs-comment">/* Error: This expression has type person but an expression was expected
   of type cat */</span>
person<span class="hljs-operator">-&gt;</span>nameGet()
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">为了绕过这个问题，你可以使用模块将类型与其相关函数放在一起，然后通过使用局部 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">open</code> 语句来使用它们：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">module</span> <span class="hljs-module-identifier">Person</span> = {
  <span class="hljs-attribute">@deriving(abstract)</span>
  <span class="hljs-keyword">type</span> t <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>name: string<span class="hljs-literal">}</span>
}

<span class="hljs-keyword">module</span> <span class="hljs-module-identifier">Cat</span> = {
  <span class="hljs-attribute">@deriving(abstract)</span>
  <span class="hljs-keyword">type</span> t <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
    name: string,
    isLazy: bool,
  }
<span class="hljs-literal">}</span>

<span class="hljs-keyword">let</span> person <span class="hljs-operator">=</span> <span class="hljs-module-identifier">Person</span>.t(~name<span class="hljs-operator">=</span><span class="hljs-string">&quot;Alice&quot;</span>)
<span class="hljs-keyword">let</span> cat <span class="hljs-operator">=</span> <span class="hljs-module-identifier">Cat</span>.t(~name<span class="hljs-operator">=</span><span class="hljs-string">&quot;Snowball&quot;</span>, ~isLazy<span class="hljs-operator">=</span><span class="hljs-literal">true</span>)

<span class="hljs-comment">/* We can use each nameGet function separately now */</span>
<span class="hljs-keyword">let</span> shoutPersonName <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">open</span> <span class="hljs-module-identifier">Person</span>
  person<span class="hljs-operator">-&gt;</span>nameGet<span class="hljs-operator">-&gt;</span><span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">String</span>.toUpperCase
<span class="hljs-literal">}</span>

<span class="hljs-comment">/* Note how we use a local `open Cat` expression to
 get access to Cat&#x27;s nameGet function */</span>
<span class="hljs-keyword">let</span> whisperCatName <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">open</span> <span class="hljs-module-identifier">Cat</span>
  cat<span class="hljs-operator">-&gt;</span>nameGet<span class="hljs-operator">-&gt;</span><span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">String</span>.toLowerCase
<span class="hljs-literal">}</span>
</code></div></div></div></pre><h2 class="group mt-16 mb-3 hl-3">将 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">external</code> 转换为 JS 对象创建函数<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#%E5%B0%86-external-%E8%BD%AC%E6%8D%A2%E4%B8%BA-js-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="%E5%B0%86-external-%E8%BD%AC%E6%8D%A2%E4%B8%BA-js-%E5%AF%B9%E8%B1%A1%E5%88%9B%E5%BB%BA%E5%87%BD%E6%95%B0" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">external</code> 上使用 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">@obj</code> 来创建一个函数，当调用该函数时，会得到一个 JS 对象，其字段对应于函数的参数标签。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这非常方便，因为你可以使其中一些标记的参数成为可选项，如果你不传入这些参数，输出的对象将不包括相应字段。因此，你可以用它在运行时动态创建只包含需要字段的对象。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">例如，假设你需要一个这样的 JavaScript 对象：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">JS</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-js "><span class="hljs-keyword">var</span> homeRoute = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;GET&quot;</span>,
  <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/&quot;</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;Home&quot;</span>),
  <span class="hljs-comment">// options: ...</span>
};
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">但是只有前三个字段是必须的。options 字段是可选的。你可以像这样声明绑定函数：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-attribute">@obj</span>
<span class="hljs-keyword">external</span> route: (
  ~\<span class="hljs-string">&quot;type&quot;</span>: string,
  ~path: string,
  ~action: list&lt;string&gt; <span class="hljs-function">=&gt;</span> unit,
  ~options: <span class="hljs-literal">{</span><span class="hljs-operator">..</span><span class="hljs-literal">}</span><span class="hljs-operator">=</span>?,
  unit,
) <span class="hljs-function">=&gt;</span> _ <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>: 由于语法限制，末尾的 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5"> = &quot;&quot;</code> 只是一个虚拟占位符。当前它没有任何作用。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这个函数有 4 个带标签的参数（第 4 个是可选的），和末尾的一个无标签的参数（我们规定有<a class="no-underline text-fire hover:underline" href="function#optional-labeled-arguments" rel="noopener noreferrer">可选参数</a>的函数必须这样做）。由于在 ReScript 中 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">type</code> 是一个保留的关键字，所以参数 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">\&quot;type&quot;</code> 必须带有双引号以<a class="no-underline text-fire hover:underline" href="use-illegal-identifier-names" rel="noopener noreferrer">避免冲突</a>。</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">另外值得注意的是其返回类型：<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code>，它告诉 ReScript 自动推导出 JS 对象的完整类型，省去了你手写类型的麻烦！</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这个函数是这样调用的：</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">let</span> homeRoute <span class="hljs-operator">=</span> route(
  ~\<span class="hljs-string">&quot;type&quot;</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;GET&quot;</span>,
  ~path<span class="hljs-operator">=</span><span class="hljs-string">&quot;/&quot;</span>,
  ~action<span class="hljs-operator">=</span>_ <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Home&quot;</span>),
  (),
)
</code></div></div></div></pre></div></main></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs-cn/manual/latest/generate-converters-accessors","query":{},"buildId":"57i003GrurB9OA8mdo-dW","runtimeConfig":{},"nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-9def993fe817cc057038.js"></script><script src="/_next/static/chunks/webpack-c49b9de92a7202ac2146.js" async=""></script><script src="/_next/static/chunks/framework-23118dcc1b886e5b49be.js" async=""></script><script src="/_next/static/chunks/main-82e7c4d3c08582bd58e0.js" async=""></script><script src="/_next/static/chunks/pages/_app-9e9d9ab67b4ceb7ec93b.js" async=""></script><script src="/_next/static/chunks/pages/docs-cn/manual/latest/generate-converters-accessors-580238388b614fca3676.js" async=""></script><script src="/_next/static/57i003GrurB9OA8mdo-dW/_buildManifest.js" async=""></script><script src="/_next/static/57i003GrurB9OA8mdo-dW/_ssgManifest.js" async=""></script><script async="" defer="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script><noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript></body></html>